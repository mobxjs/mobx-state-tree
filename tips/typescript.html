<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>TypeScript · MobX-state-tree</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div id=&quot;codefund&quot;&gt;&lt;/div&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="TypeScript · MobX-state-tree"/><meta property="og:type" content="website"/><meta property="og:url" content="https://mobx-state-tree.js.org//"/><meta property="og:description" content="&lt;div id=&quot;codefund&quot;&gt;&lt;/div&gt;"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-65632006-4', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/favicon.ico" alt="MobX-state-tree"/><h2 class="headerTitleWithLogo">MobX-state-tree</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/intro/philosophy" target="_self">Docs</a></li><li class=""><a href="https://opencollective.com/mobx" target="_self">Sponsor</a></li><li class=""><a href="https://github.com/mobxjs/mobx-state-tree" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Tips</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Introduction<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/intro/philosophy">Overview &amp; Philosophy</a></li><li class="navListItem"><a class="navItem" href="/intro/installation">Installation</a></li><li class="navListItem"><a class="navItem" href="/intro/getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/intro/examples">Examples</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API Overview<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/overview/types">Types overview</a></li><li class="navListItem"><a class="navItem" href="/overview/api">API overview</a></li><li class="navListItem"><a class="navItem" href="/overview/hooks">Lifecycle hooks overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Basic Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/concepts/trees">Types, trees &amp; state</a></li><li class="navListItem"><a class="navItem" href="/concepts/creating-models">Creating models</a></li><li class="navListItem"><a class="navItem" href="/concepts/tree-semantics">Tree semantics in detail</a></li><li class="navListItem"><a class="navItem" href="/concepts/composing-trees">Composing trees</a></li><li class="navListItem"><a class="navItem" href="/concepts/actions">Actions</a></li><li class="navListItem"><a class="navItem" href="/concepts/views">Derived values</a></li><li class="navListItem"><a class="navItem" href="/concepts/snapshots">Snapshots</a></li><li class="navListItem"><a class="navItem" href="/concepts/references">Identifiers and references</a></li><li class="navListItem"><a class="navItem" href="/concepts/async-actions">Asynchronous actions</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Advanced Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/concepts/patches">Patches</a></li><li class="navListItem"><a class="navItem" href="/concepts/listeners">Listening to changes</a></li><li class="navListItem"><a class="navItem" href="/concepts/dependency-injection">Dependency Injection</a></li><li class="navListItem"><a class="navItem" href="/concepts/middleware">Middleware</a></li><li class="navListItem"><a class="navItem" href="/concepts/reconciliation">Reconciliation</a></li><li class="navListItem"><a class="navItem" href="/concepts/volatiles">Volatile state</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Tips<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/tips/resources">Talks &amp; Blogs</a></li><li class="navListItem"><a class="navItem" href="/tips/contributing">Contributing</a></li><li class="navListItem"><a class="navItem" href="/tips/faq">Frequently Asked Questions</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/tips/typescript">TypeScript</a></li><li class="navListItem"><a class="navItem" href="/tips/circular-deps">Circular dependencies</a></li><li class="navListItem"><a class="navItem" href="/tips/inheritance">Simulating inheritance</a></li><li class="navListItem"><a class="navItem" href="/tips/snapshots-as-values">Using snapshots as values</a></li><li class="navListItem"><a class="navItem" href="/tips/more-tips">Miscellaneous Tips</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/mobxjs/mobx-state-tree/edit/master/docs/tips/typescript.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">TypeScript</h1></header><article><div><span><div id="codefund"></div>
<h3><a class="anchor" aria-hidden="true" id="typescript-and-mst"></a><a href="#typescript-and-mst" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TypeScript and MST</h3>
<p>TypeScript support is best-effort as not all patterns can be expressed in TypeScript. Except for assigning snapshots to properties we get pretty close! As MST uses the latest fancy TypeScript features it is required to use TypeScript 3.0 or later with <code>noImplicitThis</code> and <code>strictNullChecks</code> enabled.
Actually, the more strict options that are enabled, the better the type system will behave.</p>
<h4><a class="anchor" aria-hidden="true" id="recommend-compiler-flags"></a><a href="#recommend-compiler-flags" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Recommend compiler flags</h4>
<p>The recommended compiler flags (against which all our tests are written) are:</p>
<pre><code class="hljs css language-json">{
    <span class="hljs-attr">"strictNullChecks"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"strictFunctionTypes"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"noImplicitAny"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"noImplicitReturns"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"noImplicitThis"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<p>Or shorter by leveraging <code>strict</code>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"strict"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"noImplicitReturns"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<p>Flow is not supported.</p>
<h4><a class="anchor" aria-hidden="true" id="using-a-mst-type-at-design-time"></a><a href="#using-a-mst-type-at-design-time" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using a MST type at design time</h4>
<p>When using models, you write an interface, along with its property types, that will be used to perform type checks at runtime.
What about compile time? You can use TypeScript interfaces to perform those checks, but that would require writing again all the properties and their actions!</p>
<p>Good news! You don't need to write it twice!</p>
<p>There are four kinds of types available, plus one helper type:</p>
<ul>
<li><code>Instance&lt;typeof TYPE&gt;</code> or <code>Instance&lt;typeof VARIABLE&gt;</code> is the node instance type. (Legacy form is <code>typeof MODEL.Type</code>).</li>
<li><code>SnapshotIn&lt;typeof TYPE&gt;</code> or <code>SnapshotIn&lt;typeof VARIABLE&gt;</code> is the input (creation) snapshot type. (Legacy form is <code>typeof MODEL.CreationType</code>).</li>
<li><code>SnapshotOut&lt;typeof TYPE&gt;</code> or <code>SnapshotOut&lt;typeof VARIABLE&gt;</code> is the output (creation) snapshot type. (Legacy form is <code>typeof MODEL.SnapshotType</code>).</li>
<li><code>SnapshotOrInstance&lt;typeof TYPE&gt;</code> or <code>SnapshotOrInstance&lt;typeof VARIABLE&gt;</code> is <code>SnapshotIn&lt;T&gt; | Instance&lt;T&gt;</code>. This type is useful when you want to declare an input parameter that is able consume both types.</li>
<li><code>TypeOfValue&lt;typeof VARIABLE&gt;</code> gets the original type for the given instance. Note that this only works for complex values (models, arrays, maps...) but not for simple values (number, string, boolean, string, undefined).</li>
</ul>
<pre><code class="hljs css language-typescript"><span class="hljs-keyword">const</span> Todo = types
    .model({
        title: <span class="hljs-string">"hello"</span>
    })
    .actions(<span class="hljs-function"><span class="hljs-params">self</span> =&gt;</span> ({
        setTitle(v: <span class="hljs-built_in">string</span>) {
            self.title = v
        }
    }))

<span class="hljs-keyword">type</span> ITodo = Instance&lt;<span class="hljs-keyword">typeof</span> Todo&gt; <span class="hljs-comment">// =&gt; { title: string; setTitle: (v: string) =&gt; void }</span>

<span class="hljs-keyword">type</span> ITodoSnapshotIn = SnapshotIn&lt;<span class="hljs-keyword">typeof</span> Todo&gt; <span class="hljs-comment">// =&gt; { title?: string }</span>

<span class="hljs-keyword">type</span> ITodoSnapshotOut = SnapshotOut&lt;<span class="hljs-keyword">typeof</span> Todo&gt; <span class="hljs-comment">// =&gt; { title: string }</span>
</code></pre>
<p>Due to the way typeof operator works, when working with big and deep models trees, it might make your IDE/ts server takes a lot of CPU time and freeze vscode (or others).
A solution for this is to turn the types into interfaces.
This way of defining types enables TypeScript to better cope with circular type definitions as well.</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> ITodo <span class="hljs-keyword">extends</span> Instance&lt;typeof Todo&gt; {}
<span class="hljs-keyword">interface</span> ITodoSnapshotIn <span class="hljs-keyword">extends</span> SnapshotIn&lt;typeof Todo&gt; {}
<span class="hljs-keyword">interface</span> ITodoSnapshotOut <span class="hljs-keyword">extends</span> SnapshotOut&lt;typeof Todo&gt; {}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="typing-self-in-actions-and-views"></a><a href="#typing-self-in-actions-and-views" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Typing <code>self</code> in actions and views</h4>
<p>The type of <code>self</code> is what <code>self</code> was <strong>before the action or views blocks starts</strong>, and only after that part finishes, the actions will be added to the type of <code>self</code>.</p>
<p>Sometimes you'll need to take into account where your typings are available and where they aren't. The code below will not compile: TypeScript will complain that <code>self.upperProp</code> is not a known property. Computed properties are only available after <code>.views</code> is evaluated.</p>
<p>For example:</p>
<pre><code class="hljs css language-typescript"><span class="hljs-keyword">const</span> Example = types
    .model(<span class="hljs-string">"Example"</span>, {
        prop: types.string
    })
    .views(<span class="hljs-function"><span class="hljs-params">self</span> =&gt;</span> ({
        <span class="hljs-keyword">get</span> upperProp(): <span class="hljs-built_in">string</span> {
            <span class="hljs-keyword">return</span> self.prop.toUpperCase()
        },
        <span class="hljs-keyword">get</span> twiceUpperProp(): <span class="hljs-built_in">string</span> {
            <span class="hljs-keyword">return</span> self.upperProp + self.upperProp <span class="hljs-comment">// Compile error: `self.upperProp` is not yet defined</span>
        }
    }))
</code></pre>
<p>You can circumvent this situation by using <code>this</code> whenever you intend to use the newly declared computed values that are local to the current object:</p>
<pre><code class="hljs css language-typescript"><span class="hljs-keyword">const</span> Example = types.model(<span class="hljs-string">"Example"</span>, { prop: types.string }).views(<span class="hljs-function"><span class="hljs-params">self</span> =&gt;</span> ({
    <span class="hljs-keyword">get</span> upperProp(): <span class="hljs-built_in">string</span> {
        <span class="hljs-keyword">return</span> self.prop.toUpperCase()
    },
    <span class="hljs-keyword">get</span> twiceUpperProp(): <span class="hljs-built_in">string</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.upperProp + <span class="hljs-keyword">this</span>.upperProp
    }
}))
</code></pre>
<p>Alternatively you can also declare multiple <code>.views</code> block, in which case the <code>self</code> parameter gets extended after each block.</p>
<pre><code class="hljs css language-typescript"><span class="hljs-keyword">const</span> Example = types
  .model(<span class="hljs-string">'Example'</span>, { prop: types.string })
  .views(<span class="hljs-function"><span class="hljs-params">self</span> =&gt;</span> {
    <span class="hljs-keyword">get</span> upperProp(): <span class="hljs-built_in">string</span> {
      <span class="hljs-keyword">return</span> self.prop.toUpperCase();
    },
  }))
  .views(<span class="hljs-function"><span class="hljs-params">self</span> =&gt;</span> ({
    <span class="hljs-keyword">get</span> twiceUpperProp(): <span class="hljs-built_in">string</span> {
      <span class="hljs-keyword">return</span> self.upperProp + self.upperProp;
    },
  }));
</code></pre>
<p>As a last resort, although not recommended due to the performance penalty (see the note below), you may declare the views in two steps:</p>
<pre><code class="hljs css language-typescript"><span class="hljs-keyword">const</span> Example = types
  .model(<span class="hljs-string">'Example'</span>, { prop: types.string })
  .views(<span class="hljs-function"><span class="hljs-params">self</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> views = {
        <span class="hljs-keyword">get</span> upperProp(): <span class="hljs-built_in">string</span> {
            <span class="hljs-keyword">return</span> self.prop.toUpperCase();
        },
        <span class="hljs-keyword">get</span> twiceUpperProp(): <span class="hljs-built_in">string</span> {
            <span class="hljs-keyword">return</span> views.upperProp + views.upperProp;
        }
      }
      <span class="hljs-keyword">return</span> views
  }))
</code></pre>
<p><em><strong>NOTE: the last approach will incur runtime performance penalty as accessing such computed values (e.g. inside <code>render()</code> method of an observed component) always leads to full recompute (see <a href="https://github.com/mobxjs/mobx-state-tree/issues/818#issue-323164363">this issue</a> for details). For a heavily used computed properties it's recommended to use one of above approaches.</strong></em></p>
<p>Similarly, when writing actions or views one can use helper functions:</p>
<pre><code class="hljs css language-typescript"><span class="hljs-keyword">import</span> { types, flow } <span class="hljs-keyword">from</span> <span class="hljs-string">"mobx-state-tree"</span>

<span class="hljs-keyword">const</span> Example = types.model(<span class="hljs-string">"Example"</span>, { prop: types.string }).actions(<span class="hljs-function"><span class="hljs-params">self</span> =&gt;</span> {
    <span class="hljs-comment">// Don't forget that async operations HAVE</span>
    <span class="hljs-comment">// to use `flow( ... )`.</span>
    <span class="hljs-keyword">const</span> fetchData = flow(<span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">fetchData</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">yield</span> doSomething()
    })

    <span class="hljs-keyword">return</span> {
        fetchData,
        afterCreate() {
            <span class="hljs-comment">// Notice that we call the function directly</span>
            <span class="hljs-comment">// instead of using `self.fetchData()`. This is</span>
            <span class="hljs-comment">// because Typescript doesn't know yet about `fetchData()`</span>
            <span class="hljs-comment">// being part of `self` in this context.</span>
            fetchData()
        }
    }
})
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="known-typescript-issue-5938"></a><a href="#known-typescript-issue-5938" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Known Typescript Issue 5938</h4>
<p>There is a known issue with typescript and interfaces as described by: <a href="https://github.com/Microsoft/TypeScript/issues/5938">https://github.com/Microsoft/TypeScript/issues/5938</a></p>
<p>This rears its ugly head if you try to define a model such as:</p>
<pre><code class="hljs css language-typescript"><span class="hljs-keyword">import</span> { types } <span class="hljs-keyword">from</span> <span class="hljs-string">"mobx-state-tree"</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Todo = types.model({
    title: types.string
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> ITodo = <span class="hljs-keyword">typeof</span> Todo.Type
</code></pre>
<p>And you have your tsconfig.json settings set to:</p>
<pre><code class="hljs css language-json">{
  "compilerOptions": {
    ...
    "declaration": true,
    "noUnusedLocals": true
    ...
  }
}
</code></pre>
<p>Then you will get errors such as:</p>
<blockquote>
<p>error TS4023: Exported variable 'Todo' has or is using name 'IModelType' from external module &quot;...&quot; but cannot be named.</p>
</blockquote>
<p>Until Microsoft fixes this issue the solution is to re-export IModelType:</p>
<pre><code class="hljs css language-typescript"><span class="hljs-keyword">import</span> { types, IModelType } <span class="hljs-keyword">from</span> <span class="hljs-string">"mobx-state-tree"</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> __IModelType = IModelType&lt;<span class="hljs-built_in">any</span>, <span class="hljs-built_in">any</span>&gt;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Todo = types.model({
    title: types.string
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> ITodo = <span class="hljs-keyword">typeof</span> Todo.Type
</code></pre>
<p>It ain't pretty, but it works.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/tips/faq"><span class="arrow-prev">← </span><span>Frequently Asked Questions</span></a><a class="docs-next button" href="/tips/circular-deps"><span>Circular dependencies</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/favicon.ico" alt="MobX-state-tree" width="66" height="58"/></a><div><h5>Docs</h5><a href="/en/doc1.html">Getting Started (or other categories)</a><a href="/en/doc2.html">Guides (or other categories)</a><a href="/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="https://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" href="https://github.com/mobxjs/mobx-state-tree" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://opensource.facebook.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2019 Michel Weststrate</section></footer></div></body></html>