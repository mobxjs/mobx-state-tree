// Bun Snapshot v1, https://goo.gl/fbAQLP

exports[`can handle erroring actions 1`] = `
[
  {
    "allParentIds": [],
    "args": [
      "black",
    ],
    "id": 1,
    "name": "startFetch",
    "parentActionEvent": undefined,
    "parentEvent": undefined,
    "parentId": 0,
    "rootId": 1,
    "type": "action",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "black",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_spawn",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      undefined,
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_resume",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "black",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_throw",
  },
]
`;

exports[`empty sequence works 1`] = `
[
  {
    "allParentIds": [],
    "args": [
      "black",
    ],
    "id": 1,
    "name": "startFetch",
    "parentActionEvent": undefined,
    "parentEvent": undefined,
    "parentId": 0,
    "rootId": 1,
    "type": "action",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "black",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_spawn",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      undefined,
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_resume",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      undefined,
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_return",
  },
]
`;

exports[`typings 1`] = `
[
  {
    "allParentIds": [],
    "args": [
      "black",
    ],
    "id": 1,
    "name": "startFetch",
    "parentActionEvent": undefined,
    "parentEvent": undefined,
    "parentId": 0,
    "rootId": 1,
    "type": "action",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "black",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_spawn",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      undefined,
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_resume",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "tea",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_resume_error",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "biscuit",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_return",
  },
]
`;

exports[`typings 2`] = `
[
  {
    "allParentIds": [],
    "args": [
      "black",
    ],
    "id": 1,
    "name": "startFetch",
    "parentActionEvent": undefined,
    "parentEvent": undefined,
    "parentId": 0,
    "rootId": 1,
    "type": "action",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "black",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_spawn",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      undefined,
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_resume",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "x",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_resume_error",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "x",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_throw",
  },
]
`;

exports[`can handle nested async actions when using decorate 1`] = `
[
  {
    "allParentIds": [],
    "args": [
      "black",
    ],
    "id": 1,
    "name": "startFetch",
    "parentActionEvent": undefined,
    "parentEvent": undefined,
    "parentId": 0,
    "rootId": 1,
    "type": "action",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "black",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_spawn",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      undefined,
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_resume",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "drinking coffee",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_resume",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "awake",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_return",
  },
]
`;

exports[`can handle nested async actions when using decorate 2`] = `
[
  {
    "allParentIds": [],
    "args": [
      "black",
    ],
    "id": 1,
    "name": "startFetch",
    "parentActionEvent": undefined,
    "parentEvent": undefined,
    "parentId": 0,
    "rootId": 1,
    "type": "action",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "black",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_spawn",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      undefined,
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_resume",
  },
  {
    "allParentIds": [
      1,
      2,
    ],
    "args": [
      "drinking black",
    ],
    "id": 3,
    "name": "uppercase",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [
        1,
      ],
      "args": [
        undefined,
      ],
      "id": 2,
      "name": "fetchData",
      "parentActionEvent": {
        "allParentIds": [],
        "args": [
          "black",
        ],
        "id": 1,
        "name": "startFetch",
        "parentActionEvent": undefined,
        "parentEvent": undefined,
        "parentId": 0,
        "rootId": 1,
        "type": "action",
      },
      "parentEvent": {
        "allParentIds": [],
        "args": [
          "black",
        ],
        "id": 1,
        "name": "startFetch",
        "parentActionEvent": undefined,
        "parentEvent": undefined,
        "parentId": 0,
        "rootId": 1,
        "type": "action",
      },
      "parentId": 1,
      "rootId": 1,
      "type": "flow_resume",
    },
    "parentId": 2,
    "rootId": 1,
    "type": "flow_spawn",
  },
  {
    "allParentIds": [
      1,
      2,
    ],
    "args": [
      undefined,
    ],
    "id": 3,
    "name": "uppercase",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [
        1,
      ],
      "args": [
        undefined,
      ],
      "id": 2,
      "name": "fetchData",
      "parentActionEvent": {
        "allParentIds": [],
        "args": [
          "black",
        ],
        "id": 1,
        "name": "startFetch",
        "parentActionEvent": undefined,
        "parentEvent": undefined,
        "parentId": 0,
        "rootId": 1,
        "type": "action",
      },
      "parentEvent": {
        "allParentIds": [],
        "args": [
          "black",
        ],
        "id": 1,
        "name": "startFetch",
        "parentActionEvent": undefined,
        "parentEvent": undefined,
        "parentId": 0,
        "rootId": 1,
        "type": "action",
      },
      "parentId": 1,
      "rootId": 1,
      "type": "flow_resume",
    },
    "parentId": 2,
    "rootId": 1,
    "type": "flow_resume",
  },
  {
    "allParentIds": [
      1,
      2,
    ],
    "args": [
      "DRINKING BLACK",
    ],
    "id": 3,
    "name": "uppercase",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [
        1,
      ],
      "args": [
        undefined,
      ],
      "id": 2,
      "name": "fetchData",
      "parentActionEvent": {
        "allParentIds": [],
        "args": [
          "black",
        ],
        "id": 1,
        "name": "startFetch",
        "parentActionEvent": undefined,
        "parentEvent": undefined,
        "parentId": 0,
        "rootId": 1,
        "type": "action",
      },
      "parentEvent": {
        "allParentIds": [],
        "args": [
          "black",
        ],
        "id": 1,
        "name": "startFetch",
        "parentActionEvent": undefined,
        "parentEvent": undefined,
        "parentId": 0,
        "rootId": 1,
        "type": "action",
      },
      "parentId": 1,
      "rootId": 1,
      "type": "flow_resume",
    },
    "parentId": 2,
    "rootId": 1,
    "type": "flow_resume",
  },
  {
    "allParentIds": [
      1,
      2,
    ],
    "args": [
      "DRINKING BLACK",
    ],
    "id": 3,
    "name": "uppercase",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [
        1,
      ],
      "args": [
        undefined,
      ],
      "id": 2,
      "name": "fetchData",
      "parentActionEvent": {
        "allParentIds": [],
        "args": [
          "black",
        ],
        "id": 1,
        "name": "startFetch",
        "parentActionEvent": undefined,
        "parentEvent": undefined,
        "parentId": 0,
        "rootId": 1,
        "type": "action",
      },
      "parentEvent": {
        "allParentIds": [],
        "args": [
          "black",
        ],
        "id": 1,
        "name": "startFetch",
        "parentActionEvent": undefined,
        "parentEvent": undefined,
        "parentId": 0,
        "rootId": 1,
        "type": "action",
      },
      "parentId": 1,
      "rootId": 1,
      "type": "flow_resume",
    },
    "parentId": 2,
    "rootId": 1,
    "type": "flow_return",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "DRINKING BLACK",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_resume",
  },
  {
    "allParentIds": [
      1,
    ],
    "args": [
      "DRINKING BLACK",
    ],
    "id": 2,
    "name": "fetchData",
    "parentActionEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentEvent": {
      "allParentIds": [],
      "args": [
        "black",
      ],
      "id": 1,
      "name": "startFetch",
      "parentActionEvent": undefined,
      "parentEvent": undefined,
      "parentId": 0,
      "rootId": 1,
      "type": "action",
    },
    "parentId": 1,
    "rootId": 1,
    "type": "flow_return",
  },
]
`;
